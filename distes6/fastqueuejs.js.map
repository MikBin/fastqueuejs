{"version":3,"file":null,"sources":["/home/miche/SpiderOak Hive/projects/FastQueueJs/src/js/main.js"],"sourcesContent":["/**\n * ------------------------------------------------------------------------\n * Class Definitions\n * ------------------------------------------------------------------------\n */\n\nconst FastQueueJs = (() => {\n    class FastQueueJs {\n        constructor(sizeLimit = 1024) {\n            this._limit = ~~sizeLimit;\n            this._queue = [];\n            this._first = 0;\n        }\n\n        enqueue(value) {\n            this._queue.push(value);\n\n            return this;\n        };\n        dequeue() {\n            /**should throw if empty? */\n            let out;\n            if (!this.isEmpty()) {\n                out = this._queue[this._first];\n                this._first++;\n                if (this._first === this._limit) {\n                    this.removeDequeued();\n                }\n            }\n\n            return out;\n        };\n        removeDequeued() {\n            let l = this._queue.length,\n                i = this._first,\n                queue = this._queue;\n            while (i > 0) {\n                l--;\n                i--;\n                queue[i] = queue[l];\n\n            }\n\n            queue.length = queue.length - this._first;\n            this._first = 0;\n        };\n        enqueueMany(list) {\n            if (list.length) {\n                this._queue.push(...list);\n\n            }\n            return this;\n        };\n        dequeueMany(howMany) {\n            let l = this.getLength();\n\n            if (howMany <= l) {\n                let first = this._first;\n                this._first += howMany;\n                let out = this._queue.slice(first, first + howMany);\n                if (this._first >= this._limit) {\n                    this.removeDequeued();\n                }\n\n                return out;\n            } else {\n                return this.flush();\n            }\n        };\n        isEmpty() {\n            return this.getLength() === 0;\n        };\n        flush() {\n            if (this.getLength() === 0) {\n                return [];\n            }\n            this.removeDequeued();\n            let queue = this._queue;\n            this._queue = [];\n            this._first = 0;\n            return queue;\n        };\n        peek(n = 1) {\n            if (n === 1) {\n                return this._queue[this._first];\n            } else {\n\n                let max = this._first + n;\n                if (max >= this._queue.length) {\n                    return this._queue.slice(this._first);\n                }\n\n                return this._queue.slice(this._first, this._first + n);\n            }\n\n        };\n        last(n = 1) {\n            if (n === 1) {\n                return this._queue[this._queue.length - 1];\n            } else {\n                if (n < this.getLength()) {\n                    return this._queue.slice(this._queue.length - n).reverse();\n                }\n                return this._queue.slice(this._first).reverse();\n            }\n        };\n        getLength() {\n            return this._queue.length - this._first;\n        };\n        setLimit(sizeLimit) {\n            this._limit = !isNaN(sizeLimit) ? ~~sizeLimit : 1024;\n        };\n\n    };\n    return FastQueueJs;\n})();\n\nexport default FastQueueJs;"],"names":[],"mappings":"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"}